<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0076)http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>TRAKLA2 - R-Tree Insert</title><link rev="made" href="mailto:matrix@cs.hut.fi"><link rel="stylesheet" href="./TRAKLA2 - R-Tree Insert_files/trakla2.css" type="text/css"><style type="text/css"></style></head>
<body><table width="100%" class="borderTable"><tbody><tr><td class="borderlink" width="20%"><h1 class="applicationName">TRAKLA2</h1></td><td class="borderlink"><a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises.shtml">Index</a> &nbsp;</td></tr></tbody></table>
<div class="cexerpage"><h2>R-Tree Insert</h2><div class="mainTable">
<script type="text/javascript" src="./TRAKLA2 - R-Tree Insert_files/ExercisePageTabs.script"></script>
<table border="0" width="100%" class="exerciseTable" cellspacing="0" cellpadding="0"><tbody><tr><td valign="top" class="tabrow" colspan="2" width="*">
<a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" id="hideLink" onclick="hideExerciseTabs();return false;">Hide text</a><a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" id="showLink" onclick="showExerciseTabs();return false;" style="display: none">Show text</a>&nbsp;<a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" id="hideCodeLink" onclick="hideCodeTabs();return false;">Hide pseudo-code</a><a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" id="showCodeLink" onclick="showCodeTabs();return false;" style="display: none">Show pseudo-code</a></td></tr>
<tr><td colspan="2">
<div id="instructions"> <div class="header"><ul>
<li id="task-tab" class="current"><a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" onclick="showTab(this, &#39;task&#39;); return false;"><span class="tab-link">Task</span></a></li>
<li id="instructions-tab" class=""><a href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#" onclick="showTab(this, &#39;instructions&#39;); return false;"><span class="tab-link">Instructions</span></a></li>
</ul></div><div class="exerciseTabContent"><div id="task-text" style="display: block;"><p>Insert the given keys to the R-tree using the R-Tree insertion
algorithm.</p>
</div>
<div id="instructions-text" style="display: none;">
<p>There are four visualizations in the exercise. On the left side there is the input stream and 
the corresponding area visualization. On the right side there is an R-Tree visualizaed both as an area and 
a tree.&lt;7p&gt;

</p><p>The exercise is solved by dragging and dropping keys from the input stream to the tree visualization.
The area visualizations are only used for illustrating the data structures.</p>

<p>An R-tree node can be selected by clicking it with the mouse. The selected node is highlighted in
both tree and area visualizations. At the same time the Enlargement text field will show how much the
selected node will be enlarged if the next input stream element is added there. The area text field
tells the current area of the node.</p>

<p>A selected node can be split into two nodes by using the Split / Split &amp; Insert button. If the selected
node is a leaf, the next input stream element is added to one of the two newly created nodes. Splitting
and internal node will not insert elements.</p>
</div>
</div></div></td></tr>
<tr><td width="*" valign="top" id="code-td" class="exerciseTab"><div id="code"><div class="header"><ul>
<li id="Pseudo_code" class="current"><a onclick="showTab(this, &#39;Pseudo_code&#39;); return false;" href="http://www.cse.hut.fi/en/research/SVG/TRAKLA2/exercises/RTreeInsert-203.html#"><span class="tab-link">Pseudo_code</span></a></li>
</ul></div><div class="exerciseTabContent">
<div style="" id="pseudo_code-text">
<pre>1.  let min be the minimum number of data items or children 
     allowed in a node
 2.  let max be the maximum number of data items or children 
     allowed in a node
 3.  let k be the data item to be inserted in the R-tree
 4.  let n be the root node of the R-tree
     // choose the node to insert into
 5.  while n is not a leaf node
 6.    choose the child whose corresponding area needs least 
       enlargement to include k
 7.      resolve ties by choosing the child with the 
         smallest area
 8.        resolve ties by choosing the leftmost child
 9.    let n be the chosen node
     
10.  if n is not full
11.    insert k in n
12.  else
       // split and divide the entries into the nodes
13.    split n creating a new sibling node r and
       redistribute the data stored in n among n and r while 
       trying to minimize the overlap and size of their areas
14.    if the number of data items in n is less than min
15.      insert k in n
16.    else if the number of data items in r is less than min
17.      insert k in r
18.    else
19.      insert k in n or r depending on whose corresponding 
         area needs least enlargement to include k
20.        resolve tie by choosing the node with smaller area
21.          resolve tie by choosing the node with less data
22.            resolve tie by choosing n
       // propagate a split up the tree
23.    let p be n
24.    do
25.      let p be the parent of p
26.      if the number of children in p is more than max
27.        split p creating a new sibling node r and
           redistribute the children stored in p among p and 
           r while trying to minimize the overlap and size of 
           their areas
28.      else
29.        break
30.    while p is not the root node
</pre>
</div></div></div></td>

<td width="551px" valign="top" align="right" class="exerciseTab"><div class="exerciseAppletBorder"><applet archive="matrix.jar" code="applications.exerciseapplet.ExerciseApplet.class" width="750" height="700" title="undefined">
<param name="ex" value="content.exercises.sda.RTreeInsert">
<param name="reset" value="1">
</applet></div>
</td></tr></tbody></table>

</div></div><br><hr size="1">
<div class="bottom"> &nbsp;&nbsp;Created Fri Oct 30 13:52:47 EET 2009 - Powered by <a href="http://www.cs.hut.fi/Research/SVG/">SVG-hut</a></div>
<br>
</body></html>